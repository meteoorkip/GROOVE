package control;

recipe CompUnitDecl() {
	node root, entry, exit;
	
	// Mark all compilation units with the build flag.
	rule.CompUnitDecl;
	alap < // Atomic block for efficiency.
		// Select one type declaration to build next.
		root := rule.help.pickTypeDecl();
		// Create an exit node for the fields.
		exit := rule.help.createExit(root);
		// Descend into the AST and build everything.
		entry := TypeDecl(root, exit);
		// Create the entry point.
		rule.help.createEntry(root, entry);
	>
}
